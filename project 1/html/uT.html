<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>updateTrainer</title>
</head>

<body>
    <h2>Update Trainer Details</h2>
    <fieldset>
        <form id="form">
            <label for="Id">UserId</label>
            <input type="text" id="usid"><br>

            <br><label for="">EmailId</label>
            <input type="Email" id="email"><br>

            <br><label for="psw"><b>Create Password<span>*</span></b></label>
            <input type="password" id="psw" placeholder="Enter Password" name="psw" required><br>



            <br><label for="">FullName</label>
            <input type="text" id="name"><br>

            <br><label for="Gender" id="gen">Gender<span>*</span></label>
            <input type="text" value="Female">

            <br><label for="name"><b>Age<span>*</span></b></label>
            <input type="number" id="age" placeholder="Ente your age" required><br>

            <br><label for="Phone number"><b>Phone Number<span>*</span></b></label>
            <input type="number" id="phone" placeholder="Enter your mobile number"><br>


            <button>Clear</button>
            <button onclick="Tupdate()">Submit</button>
        </form>
    </fieldset>

    <script>
        function Tupdate() {
            const T1 = document.getElementById("form");
            T1.addEventListener("submit", event => {
                event.preventDefault();
            });

            let user = document.getElementById("usid").value;
            let email = document.getElementById("email").value;
            let password = document.getElementById("psw").value;
            let iname = document.getElementById("name").value;
            let gender = document.getElementById("gen").value;
            let Ages = document.getElementById("age").value;
            let phone = document.getElementById("phone").value;



            fetch(`https://localhost:7256/api/T/updatetraineedetails?id=${user}`, {

                method: "PUT",
                body: JSON.stringify({
                    traineeId: user,
                    password: password,
                    fullName: iname,
                    emailId: email,
                    gender: gender,
                    age: Ages,
                    phoneNumber: phone

                }),
                headers:
                {
                    "Content-type": "application/json; charset=UTF-8",
                },
            })

                .then(Response => {
                    if (Response.status === 200) {
                        alert('Login Success');
                        window.location.href = 'profile.html';
                    }
                    else {
                        alert('login fail');
                    }
                })
        }

    </script>
</body>

</html>